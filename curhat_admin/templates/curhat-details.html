{% extends 'base.html' %}
{% load static %}

{% block meta %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="{% static 'css/style_curhat_details.css' %}">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
<link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
{% endblock meta %}

{% block content %}
<div style="height:100px;"></div>
<div class="container-md d-flex flex-row" style="padding: 25px;">
    <div class="back-btn-div">
        <button type="button" class="back-btn" onclick="document.location='/curhat-admin/';"">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="25" fill="currentColor" class="bi bi-arrow-left" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
        </button>
    </div>
    <div class="container-sm ">
        <div class="top-section d-flex flex-row justify-content-between">
            <h3>Lorem Ipsum Dolor Sit</h3>
            <input class="btn btn-primary btn-reply" data-bs-toggle="modal" data-bs-target="#exampleModal" type="button" value="Reply">
        </div>
        <p style="margin-bottom: 3rem;">28 Oct 2022</p>
        <p>Anonymous</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean non lacus dapibus, commodo ipsum in, consectetur nunc. Aliquam gravida quam massa, vitae gravida mi condimentum sit amet. Nulla eget libero eu lectus dictum aliquam. Pellentesque ullamcorper non odio non volutpat. Etiam sit amet vestibulum massa. Interdum et malesuada fames ac ante ipsum primis in faucibus. Fusce ullamcorper libero quam, id gravida turpis efficitur sit amet. Curabitur et euismod neque. In accumsan lacinia lorem, nec porttitor elit placerat vel. Mauris ut lacus eros.

            Duis sodales vulputate luctus. Quisque finibus tincidunt sodales. Aliquam vitae felis nunc. Donec lacinia ipsum id ligula vehicula faucibus. Ut sit amet ante lorem. Nulla et arcu lectus. Nam efficitur diam ac ante sollicitudin, ut imperdiet erat porta. Ut massa massa, vestibulum et dui laoreet, rhoncus fermentum dolor. Nullam in turpis tempor nibh tempor dictum sed ac leo. Integer et tortor tincidunt, condimentum dolor id, egestas nulla. Duis.</p>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <form method="POST">
      {% csrf_token %}
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="exampleModalLabel">Reply</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="form-outline mb-4">
              {{ form.title.label }}
              <div style="height: 0.5rem;"></div>
              {{ form.title }}
          </div>
    
          <div class="form-outline mb-4">
              {{ form.description.label }}
              <div style="height: 0.5rem;"></div>
              {{ form.description }}
          </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Send</button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <script>
  $(document).ready( function(){
    $.get("/todolist/json/", showTask);

    $('.add-task-btn').click( function(){
      let title = $('#title-task').val();
      let description = $('#description-task').val();
      let CSRFtoken = $('input[name="csrfmiddlewaretoken"]').val();
      $.post('/todolist/add/', {
        title: title,
        description: description,
        csrfmiddlewaretoken: CSRFtoken
      }, $.get("/todolist/json/", showTask))
    })
    })
  </script>
{% endblock %}
